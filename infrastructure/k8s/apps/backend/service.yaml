# Backend Service
# Feature: 005-oke-dapr-kafka-infra
# Task: T057

apiVersion: v1
kind: Service
metadata:
  name: todo-backend
  namespace: todo-app
  labels:
    app.kubernetes.io/name: todo-backend
    app.kubernetes.io/component: backend
    app.kubernetes.io/part-of: todo-app
  annotations:
    # For Dapr service invocation
    dapr.io/app-id: "todo-backend"
spec:
  type: ClusterIP
  selector:
    app: todo-backend
  ports:
    - name: http
      port: 8000
      targetPort: 8000
      protocol: TCP
    # Dapr sidecar ports (for debugging)
    - name: dapr-http
      port: 3500
      targetPort: 3500
      protocol: TCP
    - name: dapr-grpc
      port: 50001
      targetPort: 50001
      protocol: TCP
